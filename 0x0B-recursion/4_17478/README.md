# [재귀함수가 뭔가요?](https://www.acmicpc.net/problem/17478)

## 재귀를 이용한 풀이

같은 모양이 반복된다. 즉 같은 연산이 반복되므로 재귀를 사용할 수 있다. 중간에 재귀가 끼어있다. 이 문제를 보면 0부터 시작해서 가운데가 점차 커저 나가는 구조이다. 중간에 재귀가 호출되기 때문에 맨 마지막은 `n=0` 인 상태이다. 이처럼 재귀는 큰 걸 작게 만들어 나가는 것도 있지만 작은 걸 내가 원하는 크기 만큼 키워나가는 경우도 있다.

이렇게 중간에 끼어드는 재귀는 재귀 함수를 호출하자 마자 실행하고 재귀가 끝날 때마다 실행하는 식으로 작성하면 맨 앞과 맨 뒤를 `n=1`이 하면서 중간을 점차 키워나갈 수 있다.

```python
def recursive(n):
    if n == 0: return
    print(n)
    recursive(n-1)
    print(n)
```

이렇게 하면 `n=1`이 하면서 중간을 점차 키워나갈 수 있다.

### n과 n-1의 관계

n=2일 때 출력값을 보면 맨 마지막 n번째와 n-1번째가 살짝 다르다. 맨 마지막엔 재귀함수의 정의를 출력하고, 그 외엔 재귀함수를 호출하는 식으로 작성한다.

```
어느 한 컴퓨터공학과 학생이 유명한 교수님을 찾아가 물었다.
"재귀함수가 뭔가요?"
"잘 들어보게. 옛날옛날 한 산 꼭대기에 이세상 모든 지식을 통달한 선인이 있었어.
마을 사람들은 모두 그 선인에게 수많은 질문을 했고, 모두 지혜롭게 대답해 주었지.
그의 답은 대부분 옳았다고 하네. 그런데 어느 날, 그 선인에게 한 선비가 찾아와서 물었어."
____"재귀함수가 뭔가요?"
____"잘 들어보게. 옛날옛날 한 산 꼭대기에 이세상 모든 지식을 통달한 선인이 있었어.
____마을 사람들은 모두 그 선인에게 수많은 질문을 했고, 모두 지혜롭게 대답해 주었지.
____그의 답은 대부분 옳았다고 하네. 그런데 어느 날, 그 선인에게 한 선비가 찾아와서 물었어."
________"재귀함수가 뭔가요?"
________"재귀함수는 자기 자신을 호출하는 함수라네"
________라고 답변하였지.
____라고 답변하였지.
라고 답변하였지.
```

### 구현

1. **함수의 정의**: 
	- `func(n)`: "깊이 `n` 수준에서의 이야기"를 출력하는 함수입니다.
    - 이 함수는 크게 세 부분으로 구성됩니다:
        1. 현재 깊이 `n`에 해당하는 들여쓰기와 함께 "재귀함수가 뭔가요?"라는 질문을 출력합니다.
        2. 현재 깊이 `n`이 최종 목표 깊이 `k`인지 아닌지에 따라 다른 동작을 수행합니다 (Base case 또는 Recursive step).
        3. Base case 처리 또는 Recursive step의 재귀 호출이 끝난 후, 현재 깊이 `n`에 해당하는 들여쓰기와 함께 "라고 답변하였지."라는 마무리 문장을 출력합니다.
2. **Base case**: 
    - **조건:** `n == k` 일 때. 즉, 현재 재귀의 깊이 `n`이 처음에 입력받은 목표 깊이 `k`에 도달했을 때입니다. 이것이 더 이상 재귀 호출을 하지 않고 멈추는 지점입니다.
    - **동작:** 현재 깊이 `n`만큼 `"____"`를 앞에 붙여 들여쓰기를 한 후, `"\"재귀함수는 자기 자신을 호출하는 함수라네\""` 라는 마지막 답변을 출력합니다. 이 부분에서는 더 이상 `func` 함수를 호출하지 않습니다.
3. **재귀 호출(Recursive Call)**: 
	- `"-"*4 + func(n-1);`
		n=1이면 앞에 `"-" * 4`가 붙고, n=2이면 앞에 `"-" * 8`가 붙는다. 
		n=k이면 앞에 `"-" * 4 * k`가 붙는다.
4. **재사용되는 연산 / 반복되는 구조**:
	- **들여쓰기 로직**: 모든 출력 라인에서 `"____"` 문자열을 현재 깊이 `n`만큼 반복하여 앞에 추가하는 연산 (`"____" * n`)이 공통적으로 사용됩니다. 이를 통해 재귀의 깊이를 시각적으로 표현합니다.
	- **함수 호출 구조**: `func(n)` 함수 내에서 특정 문장들을 출력하고, 조건을 확인한 뒤, 더 깊은 단계의 `func(n+1)`을 호출하고, 다시 특정 문장을 출력하는 이 '패턴' 자체가 재귀적으로 반복됩니다. `func` 함수 자체가 재사용되는 핵심 연산입니다.
	- 재사용되는 거에 집중하기 보단 `n=k`일 때에 집중하면 재귀를 이용하기 수월합니다. `n=k`이면 k에 해당하는 만큼의 `____`를 추가한 문장을 출력하는 데에만 관심이 있습니다. 나머지는 다른 재귀함수가 해주겠지라고 생각하고 주어진 것에만 집중하면 됩니다.

```
____"재귀함수가 뭔가요?"
____"잘 들어보게. 옛날옛날 한 산 꼭대기에 이세상 모든 지식을 통달한 선인이 있었어.
____마을 사람들은 모두 그 선인에게 수많은 질문을 했고, 모두 지혜롭게 대답해 주었지.
____그의 답은 대부분 옳았다고 하네. 그런데 어느 날, 그 선인에게 한 선비가 찾아와서 물었어."

...
____라고 답변하였지.
```

### 시간복잡도: O(n)

재귀 호출이 n번 이루어지므로 시간복잡도는 O(n)입니다.

깊이 0,1,2,…,k까지 총 k+1번 내려갔다가, 다시 1,2,…,k번 올라옴 → 총 호출 횟수 ≈ $(k+1)+k=2k+1$

각 호출에서 상수개의 `print()` 작업(질문, 스토리 블록 3줄 혹은 기저 블록 1줄, 답변 마무리 1줄)을 수행한다. 

따라서 호출 하나당 O(1)의 시간이 소요된다.

전체 시간복잡도 $T(k) = (2k+1)×O(1) = O(k)$

$k≈N/4$이므로 역시 $𝑂(𝑁)$이라 말할 수 있습니다.

### 공간복잡도: O(n)

최대 깊이 k까지 내려갈 때, 함수들이 스택에 쌓이는 양이 최대 $k+1$.

올라오는 과정에서 하나씩 사라지므로, 최대 동시점 스택 사용량이 $𝑂(𝑘)$.

전역 배열이나 추가적인 자료구조를 전혀 사용하지 않기 때문에 전체 공간복잡도는 $𝑂(𝑘)$.
